plugins {
  id 'application'
}

repositories {
  mavenCentral()
}

dependencies {
  implementation 'org.bouncycastle:bcprov-jdk18on:1.80'
  implementation 'org.bouncycastle:bcpkix-jdk18on:1.80'
}

application {
  mainClass = 'org.hyperledger.besu.pqsigner.PQSigner'
}

jar {
  archiveBaseName = 'pq-signer'
  duplicatesStrategy = DuplicatesStrategy.EXCLUDE

  manifest {
    attributes 'Main-Class': 'org.hyperledger.besu.pqsigner.PQSigner'
  }

  from {
    configurations.runtimeClasspath.collect { it.isDirectory() ? it : zipTree(it) }
  }

  exclude 'META-INF/*.SF', 'META-INF/*.DSA', 'META-INF/*.RSA'
}
